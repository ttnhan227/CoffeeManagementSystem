<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.chart.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.users.pages.UserHomeController">
    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <VBox spacing="20" style="-fx-padding: 20;">
            <!-- Stats Cards Container -->
            <HBox spacing="20">
                <!-- Products Stats Card -->
                <StackPane styleClass="stat-card">
                    <Rectangle width="300" height="150" arcWidth="20" arcHeight="20" style="-fx-fill: white; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"/>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="Total Products" style="-fx-text-fill: #666666;">
                            <font><Font size="18"/></font>
                        </Label>
                        <Label fx:id="productsCount" text="0" style="-fx-text-fill: #2c3e50;">
                            <font><Font size="36" name="System Bold"/></font>
                        </Label>
                    </VBox>
                </StackPane>
                

                <!-- Orders Stats Card -->
                <StackPane styleClass="stat-card">
                    <Rectangle width="300" height="150" arcWidth="20" arcHeight="20" style="-fx-fill: white; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"/>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="Total Orders" style="-fx-text-fill: #666666;">
                            <font><Font size="18"/></font>
                        </Label>
                        <Label fx:id="ordersCount" text="0" style="-fx-text-fill: #2c3e50;">
                            <font><Font size="36" name="System Bold"/></font>
                        </Label>
                    </VBox>
                </StackPane>

                <!-- Customers Stats Card -->
                <StackPane styleClass="stat-card">
                    <Rectangle width="300" height="150" arcWidth="20" arcHeight="20" style="-fx-fill: white; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"/>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="Total Customers" style="-fx-text-fill: #666666;">
                            <font><Font size="18"/></font>
                        </Label>
                        <Label fx:id="customersCount" text="0" style="-fx-text-fill: #2c3e50;">
                            <font><Font size="36" name="System Bold"/></font>
                        </Label>
                    </VBox>
                </StackPane>
            </HBox>

            <!-- Best Selling Products Table -->
            <VBox spacing="10" style="-fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);">
                <Label text="Top 3 Best Selling Products" style="-fx-text-fill: #2c3e50;">
                    <font><Font size="24" name="System Bold"/></font>
                </Label>
                <TableView fx:id="bestSellingTable" VBox.vgrow="NEVER" style="-fx-background-radius: 5;"
                           maxHeight="200" minHeight="200" prefHeight="200"/>
            </VBox>

            <!-- Revenue Charts Section -->
            <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);">
                <HBox alignment="CENTER" spacing="10">
                    <Label text="Revenue Analysis" style="-fx-text-fill: #2c3e50;">
                        <font><Font size="24" name="System Bold"/></font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="Year:" style="-fx-text-fill: #666666;">
                        <font><Font size="16"/></font>
                    </Label>
                    <ComboBox fx:id="yearComboBox" prefWidth="120"/>
                </HBox>

                <HBox spacing="20">
                    <!-- Bar Chart -->
                    <VBox HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 10;">
                        <BarChart fx:id="revenueBarChart" prefHeight="400" legendVisible="false">
                            <xAxis><CategoryAxis side="BOTTOM"/></xAxis>
                            <yAxis><NumberAxis side="LEFT"/></yAxis>
                        </BarChart>
                    </VBox>

                    <!-- Line Chart -->
                    <VBox HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 10;">
                        <LineChart fx:id="growthLineChart" prefHeight="400" legendVisible="false">
                            <xAxis><CategoryAxis side="BOTTOM"/></xAxis>
                            <yAxis><NumberAxis side="LEFT"/></yAxis>
                        </LineChart>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </ScrollPane>
</AnchorPane>
